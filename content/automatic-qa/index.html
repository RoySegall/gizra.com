<!DOCTYPE html><html><head><title>(Automatic) QA</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta property=og:site_name content=Gizra><meta property=og:title content="(Automatic) QA"><link rel=apple-touch-icon sizes=180x180 href=/assets/favicons/apple-touch-icon-180x180.png><link rel=icon type=image/png href=/assets/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/assets/favicons/favicon-194x194.png sizes=194x194><link rel=icon type=image/png href=/assets/favicons/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=/assets/favicons/android-chrome-192x192.png sizes=192x192><link rel=icon type=image/png href=/assets/favicons/favicon-16x16.png sizes=16x16><link rel=manifest href=/assets/favicons/manifest.json><meta name=msapplication-TileColor content=#000000><meta name=msapplication-TileImage content=/assets/favicons/mstile-144x144.png><meta name=theme-color content=#ffffff><link href="http://fonts.googleapis.com/css?family=Abril+Fatface&text=gizra" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Esteban" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Montserrat:500,700" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/semantic.min.css integrity="sha256-wT6CFc7EKRuf7uyVfi+MQNHUzojuHN2pSw0YWFt2K5E=" crossorigin="anonymous"/><link rel=stylesheet href="/assets/stylesheets/style.css"/><script src=https://code.jquery.com/jquery-2.2.4.min.js integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/semantic.min.js integrity="sha256-flVaeawsBV96vCHiLmXn03IRJym7+ZfcLVvUWONCas8=" crossorigin=anonymous></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-6558346-3', 'auto');
  ga('send', 'pageview');</script></head><body class=pushable><div class="ui sidebar inverted vertical menu left"><a class="item active" href="/">Home</a> <a class=item href=/team>Team</a> <a class=item href=/blog>Blog</a> <a class=item href=/projects>Projects</a> <a class=item href=/contact>Contact</a></div><div class=pusher><div class="ui grid container"><header class=row><div class="five wide column menu bar"><div class="ui large secondary menu"><a class="item sidebar-toggle"><i class="big sidebar icon"></i> Menu</a></div></div><div class="six wide computer eleven wide tablet column center aligned"><a class=gizra-logo href="/"><svg xmlns=http://www.w3.org/2000/svg width=252 height=104><title>gizra</title><path fill=#E27058 fill-rule=evenodd d="M44.3 21.6c.2 3.5 3 5.4 6 5.4 3.5 0 6.7-2 6.7-7s-3.6-7.7-8.5-7.7c-4.3 0-10.3 2.5-10.3 11 0 1.7.2 3.4.6 5.3-3.4-2-6.5-2.6-11.6-2.6-16 0-22.7 7.6-22.7 17.5 0 8.7 4 13.7 12.2 16-8.2 5-12 7.8-12 13.8C4.7 78 8 83 20.7 83h10c11 0 13.4 2 13.4 7 0 6.7-5.8 11.3-17 11.3s-13.4-4.7-13.4-9c0-1.8.2-3.5 1-5.8l-6.4-3C4.5 84.8.2 87 .2 92c0 6.8 7.5 11.3 25.8 11.3 21.2 0 29.6-8.5 29.6-20 0-14.4-12-17.2-23.8-17.2H21c-5.5 0-6.6-.4-6.6-1.4 0-1 1-2 4.6-4.4 2.2.4 5.4.8 8.5.8C40.3 61 49 55 49 43c0-6.8-4-10.5-8-13.3-.6-2.5-.8-4.6-.8-6.3 0-6.5 3-7 4.5-7 2.2 0 2.8 1.7 2.5 3.4l-3 1.8zM22 41.2C22 29.7 24 28 27 28s4.6 1.4 4.6 13.2v5c0 11-1.8 12.7-4.6 12.7-3.2 0-5-2.3-5-12V41zM62 10c0 4.4 2 9.8 10.6 9.8 7.6 0 10.6-4.3 10.6-10 0-6.3-3.8-9.6-10.4-9.6C65 .2 62 5 62 10zm-5.4 17v2h6.2v46H57v2h31.2v-2h-6V27H56.7zm82.5 0H95l-1.4 20.2H95c4.3-15 8-18.3 22.2-18.3h1L93 75.3V77h44l1.8-21.5h-1.5C133.5 69 127.5 75 115.6 75h-1.4l25-46v-2zm41 3c2.2 0 4.3 1 2.2 5.3h-3.8c-2.2 7.5 1 12 8.2 12 5.6 0 8.8-4 8.8-10 0-8-5-11.3-11.2-11.3-6.3 0-12 3.6-14 11V27H145v2h5.7v46h-5.8v2h32.6v-2h-7.4V47c0-9.5 4.7-17 9.7-17zm40.5 22.3c-15 0-24.2 2.4-24.2 13 0 10.5 8.2 12.8 15.6 12.8 7.2 0 10.3-2.7 12-7.7 1.2 5 6 7.8 14.4 7.8 9 0 13-3.5 13.5-16l-1.7-.2c-.5 8.8-2.3 10.8-4.2 10.8-1.7 0-3-1.2-3-5.5V46c0-15.2-5.5-19.8-22-19.8-14.3 0-22 4-22 13 0 5 2.6 8.6 9 8.6 5.3 0 9.3-3.3 9.3-8.2 0-2-.3-3.4-.8-4.7H214c-.6-1.2-.8-2.2-.8-3 0-3.4 3-4.3 5-4.3 4.2 0 5.3 3.5 5.3 16.8v8h-3zM219 73.8c-2 0-2.7-1-2.7-8.6v-1.6c0-6.4 2-9.6 6.5-9.6h.7v9.8c0 6.7-2.5 10-4.5 10z"/></svg></a><div class=tagline>We Build Websites</div></div><div class="five wide computer only column"></div></header><div class="ui grid centered post"><div class="sixteen wide mobile sixteen wide tablet twelve wide computer column"><div class="ui raised padded segment"><h1 class="ui dividing header"><div class="ui image"><img src=/assets/images/team/avatars/amitaibu.jpg class="ui circular image"></div><div class=content><a href="/content/automatic-qa/">(Automatic) QA</a><div class="sub header">By Amitai Burstein (@amitaibu) // 01 Feb 2015</div></div><div class="right floated column"><a href=/blog class="ui teal right ribbon big label">Blog Post</a></div></h1><p>Here is a known fact - it’s really easy to break the sites you are building. One wrong line of code, and a page is returning a 503 error.</p><p>Here is a known secret - (almost) nobody is doing QA. Since I’m not into arguing about this, I’m willing to soften it a bit to “most companies, don’t do proper QA”.</p><p>The reasons are pretty clear - not enough time and not enough budget. This post isn’t going to be about the importance of QA - that point is clear to everybody, but rather give <em>realistic</em> tips and tools that will allow you to start improving the quality of your projects, and actually even save you some time and money.</p><p>Let’s start by agreeing that a developer can never do a proper QA to their own feature. They can’t - not because they don’t care - but because they are normally rushed into their next task.</p><p>Let’s also agree that a code review (which for me is even more important than QA, but that’s for another post), isn’t QA. It may catch bugs - but it’s not meant to check the entire site or application.</p><p>Nothing can replace a human doing a manual check. The trick is however, making sure they do it only once, and let the machine repeat that test automatically over and over again.</p><h2 id=how-to-start-your-qa>How to start your QA</h2><p>Just start.</p><p>Seriously, no divine sign will be given. Basically, there are two approaches:</p><ol><li>You catch one person of your team that has a good eye for details, and the enthusiasm to make sure all your applications are properly tested, and ask them to be responsible for the QA. It’s recommended that person would be a developer, so they truly understand what they are checking, and know all the weak points.</li><li>You ask all the developers to start doing some (automatic) QA.</li></ol><p>As always, in Gizra we are advocating for a balanced approach. We have a couple of people responsible for the QA, and the rest of the developers know they have to write at least one test per day. Why not write a test for each pull request, you ask? The answer is simple - writing tests takes time, so it’s about finding the balance. Start with a test a day, and as your team advances, the automatic tests will get created more regularly.</p><p>Our two rules of thumb for automatic tests coverage are:</p><ol><li>We try to reach a 15% coverage of all the features.</li><li>When it comes to access we have a 100% test coverage. Your client will thank you for it.</li></ol><h2 id=practical-example>Practical example</h2><p>I’d like to demonstrate how easy it is to start QA. Lets say you are creating a new content type on your site, and you migrate content to it. You will probably validate manually the migrated content once. Now with a minimal effort, the same test can be repeated for you on every commit.</p><p>By definition tests shouldn’t be “smart” or try to do super sophisticated stuff. They should just assert a certain behavior.</p><pre><code class=language-Gherkin># blog_post.feature
Feature: Blog post
  In order to be able to view a blog post
  As an anonymous user
  We need to be able to have access to a blog post page

  @api
  Scenario Outline: Visit blog post page
    Given I am an anonymous user
    When  I visit "&lt;url&gt;"
    Then  I should the text "&lt;text&gt;" under the main content
    And   I should see the author "&lt;author&gt;"

  Examples:
    | url             | text             | author   |
    | some-url/foo    | That Lorem Ipsum | Hélène   |
    | anotehr-one/bar | &lt;p&gt;Some HTML&lt;/p&gt; | Diderich |
    | and-a-third-one |                  | Celine   |
</code></pre><p>Behat’s “Scenario Outline” test will iterate over each row under the <code class=highlighter-rouge>Examples</code> table, visit the URL and assert the text or HTML exists in the page or under a specific region.</p><p>The sentence <code class=highlighter-rouge>Then I should the text "&lt;text&gt;" under the main content</code> gets converted into code which basically instructs Behat to look for a certain HTML under the <code class=highlighter-rouge>#main-content</code> region.</p><div class="language-php highlighter-rouge"><pre class=highlight><code><span class=cp>&lt;?php</span>

<span class=sd>/**
 * @Then I should the text :text under the main content
 */</span>
<span class=k>public</span> <span class=k>function</span> <span class=nf>iShouldTheLinkUnderTheMainContent</span><span class=p>(</span><span class=nv>$text</span><span class=p>)</span> <span class=p>{</span>
  <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>assertElementContains</span><span class=p>(</span><span class=s1>'#main-content'</span><span class=p>,</span> <span class=nv>$text</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p>Obviously we could have tested more, but assuming you had zero tests up until now, I would say it’s enough to test a few items. Again, considering you didn’t have anything before, having something is already a major improvement. The above simple example, for me is considered a <em>proper</em> QA!</p><p>So for the next content type, you will only need to copy the <code class=highlighter-rouge>blog_post.feature</code> file, and change it a bit to fit the new page’s logic.</p><p>You know what’s the best part? If you didn’t have any QA in place up until today (like every other company around you), just by having someone from your team going over your applications with a QA mindset and not a developer mindset, and by writing a few simple automated tests, you will significantly improve your final product, not to mention the time saved on fixing regressions.</p><h2 id=quickly-setup-behat>Quickly Setup Behat</h2><p>Whenever we want to add <a href="/content/behat-the-right-way/">Behat</a> testing we use the <a href=https://github.com/Gizra/generator-hedley>Hedley generator</a> as it scaffolds all the needed files, and even sets up a <code class=highlighter-rouge>.travis.yml</code>. I’ve added some automatic tests to assert Gizra.com which is built on Jekyll. You can grab it and try it for yourself.</p><p>One time setup:</p><div class="language-bash highlighter-rouge"><pre class=highlight><code>git clone git@github.com:Gizra/Gizra.git
<span class=nb>cd </span>Gizra
<span class=nb>cd </span>behat
<span class=c># By default the base URL is set to http://gizra.com</span>
cp behat.local.yml.example behat.local.yml
<span class=c># Assuming you have composer instlled globally https://getcomposer.org/doc/00-intro.md#globally</span>
composer install
</code></pre></div><p>Execute the tests</p><div class=highlighter-rouge><pre class=highlight><code>./bin/behat
</code></pre></div><p>Not so hard, is it? Go ahead and start your QAing today!</p></div></div><div class="twelve wide column computer only"><div class="ui borderless secondary menu"><a class=item href="/content/phantomcss-ui-regression/"><i class="chevron left icon"></i> Hedley Generator - PhantomCSS and UI regression</a><div class="right menu"><a class=item href="/content/logs-easy-way/">Logs, The Easy Way <i class="chevron right icon"></i></a></div></div></div><div class="twelve wide column"><div class="ui segment basic"><div id=disqus_thread></div><script type=text/javascript>var disqus_shortname = 'gizra';
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div></div></div><footer class="ui black inverted vertical footer segment padded"><div class="ui center aligned container"><div class="ui three column stackable inverted grid"><div class=column><address><div class=strong>Israel Headquarters</div><div>5 Brenner Street, Tel Aviv</div><a class=telephone href=tel:+97233731222>+972-3-3731222</a> // <a class=email href=mailto:info@gizra.com>info@gizra.com</a></address></div><div class="column icons"><a target=_blank href=https://twitter.com/gizra_drupal><i class="twitter huge icon"></i></a> <a target=_blank href=https://github.com/Gizra/gizra.com><i class="github huge icon"></i></a></div><div class=column><address><div class=strong>North America Office</div><div>350 N. Orleans Street, Suite 9000N, Chicago, IL 60647</div><a class=telephone href=tel:+13125857625>312-585-7625</a> // <a class=email href=mailto:usoffice@gizra.com>usoffice@gizra.com</a></address></div></div></div></footer></div><script src=/bower_components/anchor-js/anchor.min.js></script><script src=/assets/javascript/script.js></script></body></html>